<!doctype html>
<meta charset="utf-8" />
<title>jsPsych timeline sanity check</title>

<link rel="stylesheet" href="https://unpkg.com/jspsych@7.3.4/css/jspsych.css">
<script src="https://unpkg.com/jspsych@7.3.4"></script>
<script src="https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0"></script>
<script src="https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0"></script>

<body></body>
<script>
  window.addEventListener('load', () => {
    const jsPsych = initJsPsych({ on_finish: () => jsPsych.data.displayData() });

    const timeline = [];
    // push at least one trivial trial
    timeline.push({
      type: jsPsychHtmlButtonResponse,
      stimulus: "<h1>It works ðŸŽ‰</h1><p>Click to continue.</p>",
      choices: ["Continue"]
    });

    console.log("timeline length before run:", timeline.length);
    jsPsych.run(timeline);
  });
</script>
